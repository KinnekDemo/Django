{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<div class="jumbotron">
  <div class="container">
      <h1>life<strong>Overflow</strong></h1>
      <p style="text-align: center">Help a friend. Become a professional.</p>
{#      <p style="text-align: center"><a class="btn btn-primary btn-lg" role="button">Learn more</a></p>#}
  </div>
</div>
    <div class="well">
        <p>Here is a paragraph...Here is a paragraph...Here is a paragraph...Here is a paragraph...Here is a paragraph...</p>
    </div>


<div class="well" id="map" style="width: 900px; height: 400px"></div>
<script>
var map = L.map('map').setView([39.055833, -95.689444], 4);

L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: 'Map data (c) <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
}).addTo(map);

{% for post in posts_with_location %}
    var marker_{{ post.id }} = L.marker([{{ post.latitude }}, {{ post.longitude }}]);
    marker_{{ post.id }}.bindPopup("<a href=\"{% url 'view_specific_post' post.id %}\">{{ post.title }}</a>");
    map.addLayer(marker_{{ post.id }});
{% endfor %}


</script>
{% endblock %}
